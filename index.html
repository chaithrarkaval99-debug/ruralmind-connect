<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuralMind Connect | Complete Rural Healthcare Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2c5aa0;
            --secondary: #4a90e2;
            --light: #f5f7fa;
            --dark: #333;
            --gray: #777;
            --light-gray: #eaeaea;
            --success: #28a745;
            --warning: #ffc107;
            --accent: #22c55e;
            --danger: #dc3545;
            --purple: #6f42c1;
            --orange: #fd7e14;
            --bg-gradient-start: #f6f9ff;
            --bg-gradient-end: #eef2ff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(180deg, var(--bg-gradient-start), var(--bg-gradient-end));
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }
        
        header {
            background: radial-gradient(1200px 400px at 20% -10%, rgba(76, 161, 255, 0.15), transparent),
                        radial-gradient(1200px 400px at 80% -10%, rgba(34, 197, 94, 0.12), transparent),
                        white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.06);
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }
        
        h2 {
            color: var(--primary);
            margin: 12px 0 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-gray);
            position: relative;
        }

        h2::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -1px;
            width: 56px;
            height: 3px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            border-radius: 3px;
        }
        
        h3 {
            color: var(--secondary);
            margin: 15px 0 10px;
        }
        
        section {
            background-color: white;
            padding: 22px;
            border-radius: 14px;
            box-shadow: 0 6px 24px rgba(0,0,0,0.06);
            margin-bottom: 22px;
        }

        .muted {
            color: var(--gray);
        }

        .hero-title {
            font-size: clamp(24px, 4vw, 36px);
            font-weight: 700;
        }

        .hero-subtitle {
            color: var(--gray);
            margin-bottom: 14px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: transform 0.15s ease, box-shadow 0.2s ease, background-color 0.2s ease;
            box-shadow: 0 6px 18px rgba(44, 90, 160, 0.25);
            text-decoration: none;
        }

        .btn:hover {
            background-color: var(--secondary);
            transform: translateY(-1px);
            box-shadow: 0 10px 24px rgba(74, 144, 226, 0.28);
        }

        .btn-secondary {
            background-color: #ffffff;
            color: var(--primary);
            border: 1px solid var(--light-gray);
            box-shadow: 0 4px 14px rgba(0,0,0,0.06);
        }

        .btn-secondary:hover {
            background-color: #f8fafc;
            color: var(--secondary);
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .btn-danger {
            background-color: var(--danger);
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .btn-warning {
            background-color: var(--warning);
            color: #000;
        }

        .btn-warning:hover {
            background-color: #e0a800;
        }

        .btn-small {
            padding: 8px 14px;
            font-size: 0.85rem;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }

        .nav-tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-align: center;
            border-left: 4px solid var(--primary);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: 1px solid var(--light-gray);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            border-color: var(--secondary);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--light);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .feature-description {
            color: var(--gray);
            margin-bottom: 12px;
        }

        /* Specialist Styles */
        .specialist-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 15px;
        }
        
        .specialist-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            margin-top: 10px;
        }

        .inline-input {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #fff;
            border: 1px solid var(--light-gray);
            border-radius: 999px;
            padding: 6px 10px;
        }

        .inline-input input,
        .inline-input select {
            border: none;
            outline: none;
            font-size: 0.95rem;
            background: transparent;
        }

        .specialist-card {
            flex: 1 1 300px;
            padding: 15px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            background: linear-gradient(180deg, #ffffff, #fafbff);
            transition: transform 0.25s, box-shadow 0.25s, border-color 0.25s;
        }
        
        .specialist-card:hover {
            transform: translateY(-4px);
            border-color: #dbe7ff;
            box-shadow: 0 10px 24px rgba(76, 161, 255, 0.15);
        }
        
        .specialist-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .specialist-contact {
            color: var(--secondary);
            font-size: 0.9rem;
        }

        .distance-badge {
            display: inline-block;
            margin-top: 6px;
            padding: 4px 8px;
            background: #eef4ff;
            color: var(--primary);
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .specialty-badge {
            display: inline-block;
            margin-top: 6px;
            padding: 4px 8px;
            background: #f0f9ff;
            color: #0369a1;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 6px;
        }

        /* Billing Styles */
        .billing-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .invoice-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .invoice-table th,
        .invoice-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .invoice-table th {
            background: #f8fafc;
            font-weight: 600;
        }

        .invoice-table tr:hover {
            background: #f8fafc;
        }

        .payment-card {
            background: linear-gradient(180deg, #f6faff, #f2f6ff);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }

        .payment-card.paid {
            border-left-color: var(--success);
        }

        .payment-card.pending {
            border-left-color: var(--warning);
        }

        .payment-card.overdue {
            border-left-color: var(--danger);
        }

        .payment-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .status-paid {
            background: #d1fae5;
            color: #065f46;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-overdue {
            background: #fee2e2;
            color: #991b1b;
        }

        /* Feedback Styles */
        .feedback-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin: 20px 0;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }

        .star {
            font-size: 24px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s;
        }

        .star:hover,
        .star.active {
            color: #ffc107;
        }

        .feedback-list {
            margin-top: 20px;
        }

        .feedback-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .feedback-rating {
            color: #f59e0b;
        }

        /* Community Support */
        .community-map {
            height: 300px;
            background: #e9ecef;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            flex-direction: column;
        }

        .support-resources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .resource-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-align: center;
        }

        .resource-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .type-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .type-clinic {
            background: #dbeafe;
            color: #1e40af;
        }

        .type-support {
            background: #dcfce7;
            color: #166534;
        }

        .type-wellness {
            background: #f3e8ff;
            color: #7e22ce;
        }

        .type-emergency {
            background: #fecaca;
            color: #b91c1c;
        }

        /* Emergency Banner */
        .emergency-banner {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin: 20px 0;
        }

        .emergency-title {
            color: #dc2626;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--light-gray);
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            border-color: var(--secondary);
            outline: none;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        /* Wellness Section */
        .wellness-section {
            background-color: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .wellness-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .wellness-option {
            flex: 1 1 150px;
            text-align: center;
            padding: 15px;
            background: linear-gradient(180deg, #ffffff, #f9fbff);
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.25s, box-shadow 0.25s;
        }
        
        .wellness-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 22px rgba(0,0,0,0.08);
        }

        /* Logistics */
        .logistics {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logistics-item {
            flex: 1 1 200px;
        }

        .transaction-list {
            list-style-type: none;
        }
        
        .transaction-item {
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .community-help {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .community-item {
            flex: 1 1 250px;
            padding: 15px;
            background-color: var(--light);
            border-radius: 8px;
        }
        
        .distance {
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .about-me {
            line-height: 1.8;
            text-align: justify;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 24px 20px;
            color: var(--gray);
            font-size: 0.9rem;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.05);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .features-grid,
            .stats-grid,
            .billing-summary,
            .support-resources,
            .specialist-list,
            .logistics,
            .community-help,
            .wellness-options {
                grid-template-columns: 1fr;
                flex-direction: column;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .nav-tab {
                border-bottom: none;
                border-left: 3px solid transparent;
            }
            
            .nav-tab.active {
                border-bottom-color: transparent;
                border-left-color: var(--primary);
            }

            .invoice-table {
                display: block;
                overflow-x: auto;
            }

            .specialist-card,
            .logistics-item,
            .community-item,
            .wellness-option {
                flex: 1 1 auto;
            }
            
            header {
                padding: 22px;
            }
            
            section {
                padding: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1 class="hero-title">RuralMind Connect</h1>
            <p class="hero-subtitle">Your trusted partner in rural healthcare. Bringing quality medical services to your community.</p>
            
            <!-- Quick Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Doctors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1000+</div>
                    <div class="stat-label">Patients Served</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15+</div>
                    <div class="stat-label">Villages Covered</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="#features" class="btn">
                    <i class="fas fa-search"></i> Find Specialists
                </a>
                <a href="#billing" class="btn btn-secondary">
                    <i class="fas fa-file-invoice-dollar"></i> Billing
                </a>
                <a href="#community" class="btn btn-success">
                    <i class="fas fa-users"></i> Community Support
                </a>
            </div>
        </header>

        <!-- Emergency Banner -->
        <section class="emergency-banner">
            <h3 class="emergency-title">Emergency Services</h3>
            <p class="muted">Need immediate medical attention? Our emergency team is available 24/7.</p>
            <div class="action-buttons" style="justify-content: center;">
                <button class="btn btn-danger" onclick="callEmergency()">
                    <i class="fas fa-phone"></i> Call Emergency: 108
                </button>
                <button class="btn btn-secondary" onclick="locateHospital()">
                    <i class="fas fa-map-marker-alt"></i> Locate Nearest Hospital
                </button>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features">
            <h2>Our Services</h2>
            <div class="features-grid">
                <a href="#specialists" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <h3 class="feature-title">Find Doctor</h3>
                    <p class="feature-description">Search for specialists near you with location-based services.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#medicine" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-pills"></i>
                    </div>
                    <h3 class="feature-title">Order Medicine</h3>
                    <p class="feature-description">Get medicines delivered to your doorstep within 24 hours.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#library" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-book-medical"></i>
                    </div>
                    <h3 class="feature-title">Health Library</h3>
                    <p class="feature-description">Access comprehensive health articles and wellness guides.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#nightcare" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <h3 class="feature-title">NightCare</h3>
                    <p class="feature-description">24/7 emergency support and urgent care services.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#chat" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="feature-title">Community Chat</h3>
                    <p class="feature-description">Connect with healthcare providers and community members.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#wellness" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-smile"></i>
                    </div>
                    <h3 class="feature-title">Mental Wellness</h3>
                    <p class="feature-description">Therapy sessions and mental health resources.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#billing" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <h3 class="feature-title">Billing & Payments</h3>
                    <p class="feature-description">Manage invoices, payments, and insurance claims.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#feedback" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3 class="feature-title">Feedback & Reviews</h3>
                    <p class="feature-description">Share your experience and read community reviews.</p>
                    <div class="muted">Learn more →</div>
                </a>
                
                <a href="#community" class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="feature-title">Community Support</h3>
                    <p class="feature-description">Local health centers, support groups, and resources.</p>
                    <div class="muted">Learn more →</div>
                </a>
            </div>
        </section>

        <!-- Specialists Section with Location Features -->
        <section id="specialists">
            <h2><i class="fas fa-stethoscope"></i> Available Specialists</h2>
            <div class="specialist-controls">
                <button id="use-location" class="btn" type="button">
                    <i class="fas fa-location-arrow"></i> Use my location
                </button>
                <div class="inline-input">
                    <select id="city-select" aria-label="Select city">
                        <option value="">Select a city</option>
                        <option value="delhi">Delhi</option>
                        <option value="mumbai">Mumbai</option>
                        <option value="jaipur">Jaipur</option>
                        <option value="lucknow">Lucknow</option>
                        <option value="patna">Patna</option>
                    </select>
                </div>
                <div class="inline-input">
                    <select id="specialty-filter" aria-label="Filter by specialty">
                        <option value="">All Specialties</option>
                        <option value="General Physician">General Physician</option>
                        <option value="Pediatrics">Pediatrics</option>
                        <option value="Dermatology">Dermatology</option>
                        <option value="Cardiology">Cardiology</option>
                        <option value="ENT">ENT</option>
                        <option value="Orthopedics">Orthopedics</option>
                        <option value="Gynecology">Gynecology</option>
                    </select>
                </div>
                <button id="search-city" class="btn btn-secondary" type="button">
                    <i class="fas fa-search"></i> Find specialists
                </button>
                <span id="location-status" class="muted" style="margin-left:6px"></span>
            </div>
            <div class="specialist-list" id="specialist-list">
                <!-- Results will be rendered here dynamically -->
            </div>
        </section>

        <!-- User Authentication Section -->
        <section>
            <h2>Join RuralMind Connect</h2>
            <p>Create your account to access healthcare resources</p>
            
            <form id="signup-form">
                <div class="form-group">
                    <label for="full-name">Full Name</label>
                    <input type="text" id="full-name" required>
                </div>
                
                <div class="form-group">
                    <label for="middle-number">Phone Number</label>
                    <input type="text" id="middle-number" placeholder="+91 XXXXX XXXXX">
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required minlength="6">
                </div>
                
                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" required>
                </div>
                
                <button type="submit" class="btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </form>
        </section>

        <section>
            <h2>Login</h2>
            <p class="muted">Sign in to continue where you left off</p>

            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email Address</label>
                    <input type="email" id="login-email" required>
                </div>

                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>

                <button type="submit" class="btn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
        </section>

        <section id="account-section" style="display:none">
            <h2>Your Account</h2>
            <p>Signed in as <strong id="account-email"></strong></p>
            <div style="margin-top:10px; display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="logout-btn" class="btn btn-secondary">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
                <button id="view-appointments" class="btn">
                    <i class="fas fa-calendar-check"></i> My Appointments
                </button>
                <button id="view-billing" class="btn">
                    <i class="fas fa-file-invoice"></i> Billing
                </button>
            </div>
        </section>

        <!-- Billing Section -->
        <section id="billing">
            <h2><i class="fas fa-file-invoice-dollar"></i> Billing & Payments</h2>
            <p class="muted">Manage your medical bills and payment methods</p>
            
            <div class="nav-tabs">
                <div class="nav-tab active" data-tab="summary">Summary</div>
                <div class="nav-tab" data-tab="invoices">Invoices</div>
                <div class="nav-tab" data-tab="payments">Payment Methods</div>
            </div>

            <!-- Summary Tab -->
            <div class="tab-content active" id="summary-tab">
                <div class="billing-summary">
                    <div class="stat-card">
                        <div class="stat-number">₹1,500</div>
                        <div class="stat-label">Total Balance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">₹1,200</div>
                        <div class="stat-label">Amount Due</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">₹300</div>
                        <div class="stat-label">Total Paid</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Total Invoices</div>
                    </div>
                </div>

                <h3>Recent Invoices</h3>
                <div id="recent-invoices">
                    <div class="payment-card paid">
                        <h4>Consultation with Dr. Sharma</h4>
                        <p class="muted">2024-01-15</p>
                        <p><strong>₹500</strong> <span class="payment-status status-paid">Paid</span></p>
                    </div>
                    <div class="payment-card pending">
                        <h4>Lab Tests Package</h4>
                        <p class="muted">2024-01-20</p>
                        <p><strong>₹1,200</strong> <span class="payment-status status-pending">Pending</span></p>
                    </div>
                </div>
            </div>

            <!-- Invoices Tab -->
            <div class="tab-content" id="invoices-tab">
                <div class="action-buttons">
                    <button class="btn btn-small" onclick="downloadInvoice()">
                        <i class="fas fa-download"></i> Download Invoice
                    </button>
                    <button class="btn btn-small btn-secondary" onclick="requestReceipt()">
                        <i class="fas fa-receipt"></i> Request Receipt
                    </button>
                </div>
                <table class="invoice-table">
                    <thead>
                        <tr>
                            <th>Invoice #</th>
                            <th>Date</th>
                            <th>Service</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="invoice-list">
                        <tr>
                            <td>INV-001</td>
                            <td>2024-01-15</td>
                            <td>Consultation with Dr. Sharma</td>
                            <td>₹500</td>
                            <td><span class="payment-status status-paid">Paid</span></td>
                            <td><button class="btn btn-small" onclick="viewInvoice('INV-001')"><i class="fas fa-eye"></i></button></td>
                        </tr>
                        <tr>
                            <td>INV-002</td>
                            <td>2024-01-20</td>
                            <td>Lab Tests Package</td>
                            <td>₹1,200</td>
                            <td><span class="payment-status status-pending">Pending</span></td>
                            <td><button class="btn btn-small" onclick="viewInvoice('INV-002')"><i class="fas fa-eye"></i></button></td>
                        </tr>
                        <tr>
                            <td>INV-003</td>
                            <td>2024-02-01</td>
                            <td>Follow-up Consultation</td>
                            <td>₹300</td>
                            <td><span class="payment-status status-overdue">Overdue</span></td>
                            <td><button class="btn btn-small" onclick="viewInvoice('INV-003')"><i class="fas fa-eye"></i></button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Payment Methods Tab -->
            <div class="tab-content" id="payments-tab">
                <h3>Payment Methods</h3>
                <div id="payment-methods-list">
                    <div class="payment-card">
                        <div class="action-buttons" style="justify-content: space-between; align-items: center;">
                            <div>
                                <i class="fas fa-credit-card"></i>
                                <strong>Visa •••• 4242</strong>
                                <span class="muted">Credit Card</span>
                            </div>
                            <button class="btn btn-small btn-danger" onclick="removePaymentMethod('card-1')">Remove</button>
                        </div>
                    </div>
                    <div class="payment-card">
                        <div class="action-buttons" style="justify-content: space-between; align-items: center;">
                            <div>
                                <i class="fas fa-mobile-alt"></i>
                                <strong>UPI: user@okicici</strong>
                                <span class="muted">Unified Payments Interface</span>
                            </div>
                            <button class="btn btn-small btn-danger" onclick="removePaymentMethod('upi-1')">Remove</button>
                        </div>
                    </div>
                </div>
                <button class="btn" onclick="addPaymentMethod()" style="margin-top: 15px;">
                    <i class="fas fa-plus"></i> Add Payment Method
                </button>
            </div>
        </section>

        <!-- Feedback Section -->
        <section id="feedback">
            <div class="feedback-section">
                <h2 style="color: white;">Share Your Experience</h2>
                <p style="color: rgba(255,255,255,0.9); margin-bottom: 20px;">Help us improve our services by providing feedback</p>
                
                <form id="feedback-form">
                    <div class="form-group">
                        <label style="color: white;">Rate your experience</label>
                        <div class="rating-stars" id="rating-stars">
                            <span class="star" data-rating="1">★</span>
                            <span class="star" data-rating="2">★</span>
                            <span class="star" data-rating="3">★</span>
                            <span class="star" data-rating="4">★</span>
                            <span class="star" data-rating="5">★</span>
                        </div>
                        <input type="hidden" id="rating-value" value="0">
                    </div>
                    
                    <div class="form-group">
                        <label style="color: white;">Service Type</label>
                        <select id="service-type" class="form-control">
                            <option value="">Select a service</option>
                            <option value="consultation">Doctor Consultation</option>
                            <option value="lab">Lab Tests</option>
                            <option value="medicine">Medicine Delivery</option>
                            <option value="emergency">Emergency Care</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label style="color: white;">Your Feedback</label>
                        <textarea id="feedback-text" rows="4" placeholder="Tell us about your experience..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-warning">
                        <i class="fas fa-paper-plane"></i> Submit Feedback
                    </button>
                </form>
            </div>

            <h3>Community Reviews</h3>
            <div class="feedback-list" id="feedback-list">
                <div class="feedback-item">
                    <div class="feedback-header">
                        <div>
                            <strong>Rahul Kumar</strong>
                            <div class="muted">General Consultation</div>
                        </div>
                        <div class="feedback-rating">
                            ★★★★★ <span class="muted">2024-01-10</span>
                        </div>
                    </div>
                    <p>Excellent service! The doctors were very professional and caring. The online consultation was smooth.</p>
                </div>
                
                <div class="feedback-item">
                    <div class="feedback-header">
                        <div>
                            <strong>Priya Singh</strong>
                            <div class="muted">Lab Tests</div>
                        </div>
                        <div class="feedback-rating">
                            ★★★★☆ <span class="muted">2024-01-08</span>
                        </div>
                    </div>
                    <p>Good experience overall. The doctor was knowledgeable, but waiting time was a bit long.</p>
                </div>
            </div>
        </section>

        <!-- Additional Service Sections -->
        <section>
            <h2>Contact Address</h2>
            <p>Audio base <a href="#">www.monet1.org/3</a></p>
        </section>
        
        <section>
            <h2>About Our Service</h2>
            <div class="about-me">
                <p>The first 20th Sharon's internal psychologist who was a Senior Congestion Manager, who has been a member of the organization and senior advisory candidate in cognitive behavior systems (CBT) which is a role that is responsible for the application of an appropriate voice system to provide safe and respectful feedback from the organization and their neighbors. In addition, he also provides such feedback with his colleagues.</p>
            </div>
        </section>
        
        <section>
            <h2>Service Logistics</h2>
            <div class="logistics">
                <div class="logistics-item">
                    <h3>Healthcare Management System</h3>
                </div>
                <div class="logistics-item">
                    <h3>Languages Supported</h3>
                    <p>English, Hindi</p>
                </div>
                <div class="logistics-item">
                    <h3>Book Audio Consultation</h3>
                    <p>Available via multiple platforms</p>
                </div>
            </div>
        </section>
        
        <section>
            <h2>Find Care & Support That's Right For You</h2>
            <p>Healthcare modules tailored to rural community needs.</p>
        </section>
        
        <section>
            <h2>Privacy & Data Security</h2>
            <p>Your health data is protected and secure.</p>
            
            <div class="logistics">
                <div class="logistics-item">
                    <h3>Data Usage</h3>
                    <p>Secure data handling protocols</p>
                </div>
                <div class="logistics-item">
                    <h3>Community Coordination</h3>
                    <p>Local health updates</p>
                </div>
                <div class="logistics-item">
                    <h3>Resource Network</h3>
                    <p>Connected healthcare nodes</p>
                </div>
            </div>
        </section>
        
        <section>
            <h2>Billing & Payments</h2>
            <p>Transparent financial history and awareness</p>
            
            <h3>Upcoming Payments</h3>
            <div class="payment-card">
                <h4>Consultation with Dr. Shams</h4>
                <p class="muted">Upcoming Session</p>
                <p class="payment-amount">Subscription Fee</p>
            </div>
            
            <h3>Past Transactions</h3>
            <ul class="transaction-list">
                <li class="transaction-item">
                    <h4>Previous visit</h4>
                    <p>Healthcare consultation session completed successfully.</p>
                    <p>Follow-up care instructions provided.</p>
                </li>
            </ul>
        </section>

        <!-- Community Support Section -->
        <section id="community">
            <h2><i class="fas fa-users"></i> Local Community Support</h2>
            <p class="muted">Find local health resources and support networks</p>
            
            <div class="community-map">
                <i class="fas fa-map-marked-alt" style="font-size: 48px; margin-bottom: 15px;"></i>
                <h3>Community Health Map</h3>
                <p>Interactive map showing local health resources and support groups in your area</p>
                <button class="btn" onclick="showCommunityMap()" style="margin-top: 15px;">
                    <i class="fas fa-map"></i> View Interactive Map
                </button>
            </div>

            <h3>Local Health Resources</h3>
            <div class="support-resources">
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-clinic-medical"></i>
                    </div>
                    <h3>Primary Health Center</h3>
                    <p>Find nearby healthcare facilities and clinics</p>
                    <div class="muted" style="margin: 10px 0;">
                        <i class="fas fa-map-marker-alt"></i> 2.3 km away
                        <span class="type-badge type-clinic">Clinic</span>
                    </div>
                    <div class="muted" style="margin-bottom: 15px;">
                        <i class="fas fa-phone"></i> +91-9876543210
                    </div>
                    <button class="btn btn-small" onclick="contactResource('Primary Health Center')">Contact Now</button>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <h3>Mental Health Support Group</h3>
                    <p>Join local mental health and wellness groups</p>
                    <div class="muted" style="margin: 10px 0;">
                        <i class="fas fa-map-marker-alt"></i> 5.1 km away
                        <span class="type-badge type-support">Support</span>
                    </div>
                    <div class="muted" style="margin-bottom: 15px;">
                        <i class="fas fa-phone"></i> +91-9876543211
                    </div>
                    <button class="btn btn-small" onclick="findSupportGroups()">Find Groups</button>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3>Community Wellness Center</h3>
                    <p>Community health initiatives and programs</p>
                    <div class="muted" style="margin: 10px 0;">
                        <i class="fas fa-map-marker-alt"></i> 3.7 km away
                        <span class="type-badge type-wellness">Wellness</span>
                    </div>
                    <div class="muted" style="margin-bottom: 15px;">
                        <i class="fas fa-phone"></i> +91-9876543212
                    </div>
                    <button class="btn btn-small" onclick="learnMoreWellness()">Learn More</button>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-ambulance"></i>
                    </div>
                    <h3>Emergency Care Unit</h3>
                    <p>24/7 emergency contacts and services</p>
                    <div class="muted" style="margin: 10px 0;">
                        <i class="fas fa-map-marker-alt"></i> 4.2 km away
                        <span class="type-badge type-emergency">Emergency</span>
                    </div>
                    <div class="muted" style="margin-bottom: 15px;">
                        <i class="fas fa-phone"></i> +91-9876543213
                    </div>
                    <button class="btn btn-small" onclick="viewEmergencyContacts()">View Contacts</button>
                </div>
            </div>

            <h3>Upcoming Community Events</h3>
            <div id="community-events">
                <div class="payment-card">
                    <h4>Free Health Checkup Camp</h4>
                    <p class="muted">2024-02-15 • Village Community Hall</p>
                    <p>Free health screenings and consultations for the community</p>
                    <button class="btn btn-small btn-success" onclick="registerEvent('Free Health Checkup Camp')" style="margin-top: 10px;">Register</button>
                </div>
                
                <div class="payment-card">
                    <h4>Mental Health Awareness Workshop</h4>
                    <p class="muted">2024-02-20 • Community Center</p>
                    <p>Learn about mental wellness and coping strategies</p>
                    <button class="btn btn-small btn-success" onclick="registerEvent('Mental Health Awareness Workshop')" style="margin-top: 10px;">Register</button>
                </div>
                
                <div class="payment-card">
                    <h4>Yoga for Wellness Session</h4>
                    <p class="muted">2024-02-25 • Public Park</p>
                    <p>Guided yoga session for all age groups</p>
                    <button class="btn btn-small btn-success" onclick="registerEvent('Yoga for Wellness Session')" style="margin-top: 10px;">Register</button>
                </div>
            </div>
        </section>

        <!-- Wellness Section -->
        <section class="wellness-section" id="wellness">
            <h2>How are you feeling today?</h2>
            <p>It sounds like you're having a tough moment. Let's try to find some calm.</p>
            
            <div class="wellness-options">
                <div class="wellness-option" onclick="startGuidedBreathing()">
                    <h3>Guided Breathing</h3>
                </div>
                <div class="wellness-option" onclick="startGroundingTechnique()">
                    <h3>Grounding Technique</h3>
                </div>
                <div class="wellness-option" onclick="startQuickMeditation()">
                    <h3>Quick Meditation</h3>
                </div>
            </div>
        </section>
        
        <footer>
            <p>&copy; 2025 RuralMind Connect. Bringing healthcare to rural communities.</p>
        </footer>
    </div>

    <script>
        // ==================== AUTHENTICATION SYSTEM ====================
        function loadUsers() {
            try {
                const raw = localStorage.getItem('rmc_users');
                return raw ? JSON.parse(raw) : {};
            } catch (e) {
                return {};
            }
        }

        function saveUsers(users) {
            localStorage.setItem('rmc_users', JSON.stringify(users));
        }

        function getSession() {
            try {
                const raw = localStorage.getItem('rmc_session');
                return raw ? JSON.parse(raw) : null;
            } catch (e) {
                return null;
            }
        }

        function setSession(email) {
            localStorage.setItem('rmc_session', JSON.stringify({ email }));
        }

        function clearSession() {
            localStorage.removeItem('rmc_session');
        }

        function generateSalt(byteLength = 16) {
            const salt = new Uint8Array(byteLength);
            crypto.getRandomValues(salt);
            return Array.from(salt).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function sha256Hex(input) {
            const enc = new TextEncoder();
            const data = enc.encode(input);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function hashPassword(password, salt) {
            return sha256Hex(`${salt}:${password}`);
        }

        function updateAuthUI() {
            const session = getSession();
            const accountSection = document.getElementById('account-section');
            const accountEmail = document.getElementById('account-email');
            const signupForm = document.getElementById('signup-form');
            const loginForm = document.getElementById('login-form');

            if (session && session.email) {
                accountSection.style.display = '';
                accountEmail.textContent = session.email;
                if (signupForm) signupForm.closest('section').style.display = 'none';
                if (loginForm) loginForm.closest('section').style.display = 'none';
            } else {
                accountSection.style.display = 'none';
                if (signupForm) signupForm.closest('section').style.display = '';
                if (loginForm) loginForm.closest('section').style.display = '';
            }
        }

        // ==================== LOCATION-BASED SPECIALISTS ====================
        const cityCoordinates = {
            delhi: { name: 'Delhi', lat: 28.6139, lng: 77.2090 },
            mumbai: { name: 'Mumbai', lat: 19.0760, lng: 72.8777 },
            jaipur: { name: 'Jaipur', lat: 26.9124, lng: 75.7873 },
            lucknow: { name: 'Lucknow', lat: 26.8467, lng: 80.9462 },
            patna: { name: 'Patna', lat: 25.5941, lng: 85.1376 }
        };

        const specialists = [
            { name: 'Dr. Aren Sharma', contact: 'www.frankhospital.com', specialty: 'General Physician', city: 'Delhi', lat: 28.64, lng: 77.22 },
            { name: 'Dr. Shalip Gupta', contact: 'Dr.Shalip@yahoo.com', specialty: 'Pediatrics', city: 'Delhi', lat: 28.58, lng: 77.18 },
            { name: 'Dr. Hildi Kao', contact: 'Kongshu@yahoo.com', specialty: 'Dermatology', city: 'Mumbai', lat: 19.09, lng: 72.88 },
            { name: 'Dr. R. Singh', contact: 'rsingh@health.org', specialty: 'Cardiology', city: 'Jaipur', lat: 26.90, lng: 75.80 },
            { name: 'Dr. P. Verma', contact: 'verma.clinic.in', specialty: 'ENT', city: 'Lucknow', lat: 26.85, lng: 80.95 },
            { name: 'Dr. N. Kumar', contact: 'clinic.kumar@example.com', specialty: 'Orthopedics', city: 'Patna', lat: 25.60, lng: 85.14 },
            { name: 'Dr. Meera Das', contact: 'meeradas@example.com', specialty: 'Gynecology', city: 'Mumbai', lat: 19.07, lng: 72.84 }
        ];

        function toRad(v) { return v * Math.PI / 180; }

        function distanceKm(a, b) {
            const R = 6371; // km
            const dLat = toRad(b.lat - a.lat);
            const dLng = toRad(b.lng - a.lng);
            const lat1 = toRad(a.lat);
            const lat2 = toRad(b.lat);
            const x = Math.sin(dLat/2) ** 2 + Math.sin(dLng/2) ** 2 * Math.cos(lat1) * Math.cos(lat2);
            const y = 2 * Math.atan2(Math.sqrt(x), Math.sqrt(1 - x));
            return R * y;
        }

        function renderSpecialists(origin, maxDistance = 200) {
            const list = document.querySelector('#specialists .specialist-list');
            list.innerHTML = '';
            const enriched = specialists.map(s => {
                const d = distanceKm(origin, { lat: s.lat, lng: s.lng });
                return { ...s, distance: d };
            }).sort((a, b) => a.distance - b.distance);

            const filtered = enriched.filter(s => s.distance <= maxDistance);
            const toShow = filtered.length ? filtered : enriched.slice(0, 6);

            toShow.forEach(s => {
                const card = document.createElement('div');
                card.className = 'specialist-card';
                card.innerHTML = `
                    <div class="specialist-name">${s.name}</div>
                    <div>${s.specialty} • ${s.city}</div>
                    <div class="specialist-contact">${s.contact}</div>
                    <span class="distance-badge">${s.distance.toFixed(1)} km</span>
                `;
                list.appendChild(card);
            });
        }

        function setLocationStatus(msg, isError = false) {
            const el = document.getElementById('location-status');
            el.textContent = msg;
            el.style.color = isError ? '#b91c1c' : 'var(--gray)';
        }

        // ==================== EVENT LISTENERS ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize authentication UI
            updateAuthUI();

            // Tab functionality
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to current tab and content
                    this.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });

            // Star Rating System
            const stars = document.querySelectorAll('.star');
            const ratingValue = document.getElementById('rating-value');
            
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = this.getAttribute('data-rating');
                    ratingValue.value = rating;
                    
                    // Update star display
                    stars.forEach(s => {
                        if (s.getAttribute('data-rating') <= rating) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
            });

            // Feedback Form Submission
            const feedbackForm = document.getElementById('feedback-form');
            feedbackForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const rating = ratingValue.value;
                const serviceType = document.getElementById('service-type').value;
                const feedbackText = document.getElementById('feedback-text').value;
                
                if (rating === '0') {
                    alert('Please select a rating');
                    return;
                }
                
                if (!serviceType) {
                    alert('Please select a service type');
                    return;
                }
                
                if (!feedbackText.trim()) {
                    alert('Please enter your feedback');
                    return;
                }
                
                // Add new feedback to the list
                const feedbackList = document.getElementById('feedback-list');
                const newFeedback = document.createElement('div');
                newFeedback.className = 'feedback-item';
                newFeedback.innerHTML = `
                    <div class="feedback-header">
                        <div>
                            <strong>You</strong>
                            <div class="muted">${getServiceName(serviceType)}</div>
                        </div>
                        <div class="feedback-rating">
                            ${'★'.repeat(rating)}${'☆'.repeat(5-rating)} <span class="muted">Just now</span>
                        </div>
                    </div>
                    <p>${feedbackText}</p>
                `;
                
                feedbackList.prepend(newFeedback);
                
                // Reset form
                feedbackForm.reset();
                stars.forEach(star => star.classList.remove('active'));
                ratingValue.value = '0';
                
                alert('Thank you for your feedback!');
            });

            // Signup Form
            document.getElementById('signup-form').addEventListener('submit', async function(e) {
                e.preventDefault();

                const name = document.getElementById('full-name').value.trim();
                const middleNumber = document.getElementById('middle-number').value.trim();
                const email = document.getElementById('email').value.trim().toLowerCase();
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirm-password').value;

                if (!name) {
                    alert('Please enter your full name.');
                    return;
                }
                if (password.length < 6) {
                    alert('Password should be at least 6 characters.');
                    return;
                }
                if (password !== confirmPassword) {
                    alert('Passwords do not match!');
                    return;
                }

                const users = loadUsers();
                if (users[email]) {
                    alert('An account with this email already exists. Please login.');
                    return;
                }

                const salt = generateSalt();
                const hash = await hashPassword(password, salt);

                users[email] = {
                    name,
                    middleNumber,
                    salt,
                    hash,
                    createdAt: new Date().toISOString()
                };
                saveUsers(users);
                setSession(email);

                alert('Account created successfully! You are now logged in.');
                this.reset();
                updateAuthUI();
            });

            // Login Form
            document.getElementById('login-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value.trim().toLowerCase();
                const password = document.getElementById('login-password').value;

                const users = loadUsers();
                const found = users[email];
                if (!found) {
                    alert('No account found for this email. Please sign up.');
                    return;
                }
                const computed = await hashPassword(password, found.salt);
                if (computed !== found.hash) {
                    alert('Incorrect password.');
                    return;
                }
                setSession(email);
                alert('Logged in successfully.');
                this.reset();
                updateAuthUI();
            });

            // Logout
            document.getElementById('logout-btn').addEventListener('click', function() {
                clearSession();
                updateAuthUI();
            });

            // Location-based specialist search
            document.getElementById('use-location').addEventListener('click', () => {
                if (!('geolocation' in navigator)) {
                    setLocationStatus('Geolocation not supported in this browser.', true);
                    return;
                }
                setLocationStatus('Detecting your location…');
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        const coords = { lat: pos.coords.latitude, lng: pos.coords.longitude };
                        setLocationStatus('Showing nearest specialists');
                        renderSpecialists(coords);
                    },
                    (err) => {
                        setLocationStatus('Location permission denied. Select a city instead.', true);
                    },
                    { enableHighAccuracy: true, timeout: 8000 }
                );
            });

            // Manual city search
            document.getElementById('search-city').addEventListener('click', () => {
                const key = (document.getElementById('city-select').value || '').toLowerCase();
                if (!key || !cityCoordinates[key]) {
                    setLocationStatus('Please select a city.', true);
                    return;
                }
                const c = cityCoordinates[key];
                setLocationStatus(`Showing specialists near ${c.name}`);
                renderSpecialists({ lat: c.lat, lng: c.lng });
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Feature card interactions
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    const featureName = this.querySelector('.feature-title').textContent;
                    alert(`Opening ${featureName}...`);
                });
            });

            // Default: show Delhi vicinity on first load
            const c = cityCoordinates['delhi'];
            renderSpecialists({ lat: c.lat, lng: c.lng });
        });

        // ==================== UTILITY FUNCTIONS ====================
        function getServiceName(serviceType) {
            const services = {
                'consultation': 'Doctor Consultation',
                'lab': 'Lab Tests',
                'medicine': 'Medicine Delivery',
                'emergency': 'Emergency Care'
            };
            return services[serviceType] || 'General Service';
        }

        // ==================== BILLING FUNCTIONS ====================
        function downloadInvoice() {
            alert('Invoice download started...');
        }

        function requestReceipt() {
            alert('Receipt request submitted. You will receive it via email shortly.');
        }

        function viewInvoice(invoiceId) {
            alert(`Viewing details for invoice: ${invoiceId}`);
        }

        function removePaymentMethod(methodId) {
            if (confirm('Are you sure you want to remove this payment method?')) {
                alert(`Payment method ${methodId} removed successfully`);
            }
        }

        function addPaymentMethod() {
            alert('Redirecting to add payment method page...');
        }

        // ==================== EMERGENCY FUNCTIONS ====================
        function callEmergency() {
            if (confirm('Call emergency services at 108?')) {
                alert('Connecting to emergency services...');
            }
        }

        function locateHospital() {
            alert('Opening hospital locator...');
        }

        // ==================== COMMUNITY FUNCTIONS ====================
        function showCommunityMap() {
            alert('Opening community health map...');
        }

        function contactResource(resourceName) {
            alert(`Contacting ${resourceName}...`);
        }

        function findSupportGroups() {
            alert('Searching for mental health support groups in your area...');
        }

        function learnMoreWellness() {
            alert('Loading wellness program details...');
        }

        function viewEmergencyContacts() {
            alert('Displaying emergency contacts and services...');
        }

        function registerEvent(eventName) {
            alert(`Registered for: ${eventName}\nYou will receive confirmation details shortly.`);
        }

        // ==================== WELLNESS FUNCTIONS ====================
        function startGuidedBreathing() {
            alert('Starting guided breathing exercise...\n\nBreathe in for 4 seconds, hold for 7 seconds, exhale for 8 seconds. Repeat 5 times.');
        }

        function startGroundingTechnique() {
            alert('Starting grounding technique...\n\nLook around and name:\n- 5 things you can see\n- 4 things you can touch\n- 3 things you can hear\n- 2 things you can smell\n- 1 thing you can taste');
        }

        function startQuickMeditation() {
            alert('Starting quick meditation...\n\nFind a comfortable position, close your eyes, and focus on your breath for 5 minutes.');
        }
    </script>
</body>
</html>
